{"mappings":"gfAcA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAO,CACXC,aAAcC,SAASC,cAAc,kBACrCC,WAAYF,SAASC,cAAc,uBACnCE,aAAcH,SAASC,cAAc,6BAGvCH,EAAKC,aAAaK,iBAAiB,UAAUC,IAC3CA,EAAMC,iBACNC,QAAQC,IAAIC,GACZC,aAAaC,WAAW,uBACxBF,EAAW,CAAC,EACZX,EAAKI,WAAWU,MAAQ,GACxBd,EAAKK,aAAaS,MAAQ,GAC1Bd,EAAKC,aAAac,OAAK,IAGzB,IAAIJ,EAiBJ,SAAoBK,GAClB,MAAMC,EAAOL,aAAaM,QAAQF,GAClC,IACE,OAAOG,KAAKC,MAAMH,EACpB,CAAE,MACA,OAAOA,CACT,CACF,CAxBeI,CAAW,wBAA0B,CAAC,EAErDrB,EAAKC,aAAaK,iBAAiB,SAAS,EAAAR,EAAAwB,WAE5C,SAAwBf,GACtB,MAAMO,EAAQP,EAAMgB,OAAOT,MACrBE,EAAMT,EAAMgB,OAAOC,KACzBf,QAAQC,IAAIM,EAAKF,GACjBH,EAASK,GAAOF,EAIlB,SAAkBE,EAAKF,GACrB,MAAMW,EAAON,KAAKO,UAAUZ,GAC5BF,aAAae,QAAQX,EAAKS,EAC5B,CANEG,CAAS,sBAAuBjB,EAClC,GARqE,MAwBrEX,EAAKC,aAAa4B,SAASC,MAAMhB,MAAQH,GAAUmB,OAAS,GAC5D9B,EAAKC,aAAa4B,SAASE,QAAQjB,MAAQH,GAAUoB,SAAW,E","sources":["src/js/03-feedback.js"],"sourcesContent":["// Завдання 3 - форма зворотного зв'язку\n// HTML містить розмітку форми.\n// Напиши скрипт, який буде зберігати значення полів у локальне сховище,\n//     коли користувач щось друкує.\n// Виконуй це завдання у файлах 03-feedback.html і 03-feedback.js. Розбий його на декілька підзавдань:\n\n// Відстежуй на формі подію input, і щоразу записуй у локальне сховище об'єкт з полями email і message,\n//  у яких зберігай поточні значення полів форми.Нехай ключем для сховища буде рядок \"feedback-form-state\".\n// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, заповнюй ними поля форми.\n// В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищуй сховище і поля форми, а також виводь у консоль об'єкт з полями email,\n// message та їхніми поточними значеннями.\n// Зроби так, щоб сховище оновлювалось не частіше, ніж раз на 500 мілісекунд.\n// Для цього додай до проекту і використовуй бібліотеку lodash.throttle.\nimport { throttle } from 'lodash';\n\n//const submitBtn = document.querySelector('button');\n\nconst refs = {\n  feedbackForm: document.querySelector('.feedback-form'),\n  emailInput: document.querySelector('input[name=\"email\"]'),\n  messageInput: document.querySelector('textarea[name=\"message\"]'),\n};\n\nrefs.feedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(formData);\n  localStorage.removeItem('feedback-form-state');\n  formData = {};\n  refs.emailInput.value = '';\n  refs.messageInput.value = '';\n  refs.feedbackForm.reset();\n});\n\nlet formData = loadFromLS('feedback-form-state') || {};\n\nrefs.feedbackForm.addEventListener('input', throttle(inputFormValue, 3000));\n\nfunction inputFormValue(event) {\n  const value = event.target.value;\n  const key = event.target.name;\n  console.log(key, value);\n  formData[key] = value;\n  saveToLS('feedback-form-state', formData);\n}\n\nfunction saveToLS(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch {\n    return data;\n  }\n}\n\nrefs.feedbackForm.elements.email.value = formData?.email || '';\nrefs.feedbackForm.elements.message.value = formData?.message || '';\n\n// const formValue = JSON.parse(localStorage.getItem('feedback-form-state'));\n// let feeldObj = {};\n\n// feedbackForm.addEventListener('input', event => {\n//   event.preventDefault();\n//   feeldObj.email = event.currentTarget.email.value;\n//   feeldObj.message = event.currentTarget.message.value;\n\n//   if (feeldObj.email === '') {\n//     delete feeldObj.email;\n//   }\n//   if (feeldObj.message === '') {\n//     delete feeldObj.message;\n//   }\n\n//   fromFormData(feeldObj);\n// });\n\n// function fromFormData(data) {\n//   localStorage.setItem('feedback-form-state', JSON.stringify(data));\n// }\n\n// feedbackForm.email.value = formValue?.email || '';\n// feedbackForm.message.value = formValue?.message || '';\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","feedbackForm","document","querySelector","emailInput","messageInput","addEventListener","event","preventDefault","console","log","$b00c40859be242c5$var$formData","localStorage","removeItem","value","reset","key","data","getItem","JSON","parse","$b00c40859be242c5$var$loadFromLS","throttle","target","name","json","stringify","setItem","$b00c40859be242c5$var$saveToLS","elements","email","message"],"version":3,"file":"03-feedback.c203fd9e.js.map"}